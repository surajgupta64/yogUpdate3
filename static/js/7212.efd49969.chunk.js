"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7212],{7212:function(e,t,n){n.r(t);var r=n(70885),a=n(78983),s=n(74569),c=n.n(s),i=n(72426),l=n.n(i),o=n(72791),u=n(16856),d=n(80184);t.default=function(){var e=(0,o.useState)(!1),t=(0,r.Z)(e,2),n=t[0],s=t[1],i=(0,o.useState)(""),h=(0,r.Z)(i,2),m=h[0],x=h[1],j=(0,o.useState)(""),f=(0,r.Z)(j,2),p=f[0],N=f[1],b=(0,o.useState)(""),v=(0,r.Z)(b,2),S=v[0],g=v[1],D=(0,o.useState)(""),C=(0,r.Z)(D,2),_=C[0],y=C[1],k=(0,o.useState)(""),Z=(0,r.Z)(k,2),Y=Z[0],E=Z[1],A=(0,o.useState)(""),O=(0,r.Z)(A,2),T=O[0],V=O[1],w=(0,o.useState)(""),z=(0,r.Z)(w,2),B=z[0],F=z[1],M=(0,o.useState)(""),I=(0,r.Z)(M,2),L=I[0],G=I[1],X=(0,o.useState)(""),H=(0,r.Z)(X,2),J=H[0],R=H[1],P=(0,o.useState)(!1),W=(0,r.Z)(P,2),q=W[0],K=W[1],Q="https://yog-api.herokuapp.com",U=JSON.parse(localStorage.getItem("user-info")),$=U.token,ee=U.user.username,te=(0,o.useState)([]),ne=(0,r.Z)(te,2),re=ne[0],ae=ne[1],se=(0,o.useState)([]),ce=(0,r.Z)(se,2),ie=ce[0],le=ce[1],oe={Authorization:"Bearer ".concat($),"My-Custom-Header":"foobar"};function ue(){c().get("".concat(Q,"/offer/all"),{headers:{Authorization:"Bearer ".concat($)}}).then((function(e){console.log(e.data),ae(e.data)})).catch((function(e){console.error(e)}))}(0,o.useEffect)((function(){ue(),c().get("".concat(Q,"/subservice/all"),{headers:{Authorization:"Bearer ".concat($)}}).then((function(e){console.log(e.data),le(e.data)})).catch((function(e){console.error(e)}))}),[]);return(0,d.jsxs)(a.xH,{className:"mb-3 border-success",children:[(0,d.jsx)(a.bn,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,d.jsx)(a.tj,{children:"Offer Master"})}),(0,d.jsxs)(a.sl,{children:[(0,d.jsxs)(a.lx,{className:"mb-2",children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,d.jsx)("div",{}),(0,d.jsx)("div",{children:(0,d.jsx)(a.rb,{children:(0,d.jsx)(a.b7,{children:(0,d.jsx)(a.u5,{className:"ms-1 mt-2",onClick:function(){return s(!n)},children:n?"close":"Add New Offer"})})})})]}),n&&(0,d.jsxs)("div",{children:[(0,d.jsxs)(a.rb,{className:"mt-3",children:[(0,d.jsx)(a.b7,{lg:6,md:6,sm:12,children:(0,d.jsxs)(a.LX,{className:"mb-1","aria-label":"Select General Trainer",value:m,onChange:function(e){return x(e.target.value)},label:"Service Name",children:[(0,d.jsx)("option",{children:"Select Service"}),ie.filter((function(e){return e.username===ee})).map((function(e,t){return(0,d.jsx)("option",{children:e.selected_service},t)}))]})}),(0,d.jsx)(a.b7,{lg:6,md:6,sm:12,children:(0,d.jsxs)(a.LX,{className:"mb-1","aria-label":"Select General Trainer",value:S,onChange:function(e){return g(e.target.value)},label:"Service Variations",children:[(0,d.jsx)("option",{children:"Select Variations"}),ie.filter((function(e){return e.username===ee&&e.selected_service===m})).map((function(e,t){return(0,d.jsx)("option",{children:e.sub_Service_Name},t)}))]})}),(0,d.jsx)(a.b7,{lg:6,md:6,sm:12,children:(0,d.jsxs)(a.LX,{className:"mb-1","aria-label":"Select General Trainer",value:p,onChange:function(e){return N(e.target.value)},label:"Service Duration",children:[(0,d.jsx)("option",{children:"Select Duration"}),ie.filter((function(e){return e.username===ee&&e.selected_service===m&&e.sub_Service_Name===S})).map((function(e,t){return(0,d.jsx)("option",{children:e.duration},t)}))]})}),(0,d.jsx)(a.b7,{lg:6,md:6,sm:12,children:(0,d.jsxs)(a.LX,{className:"mb-1","aria-label":"Select General Trainer",value:_,onChange:function(e){return y(e.target.value)},label:"Service Duration",children:[(0,d.jsx)("option",{children:"Select Fees"}),ie.filter((function(e){return e.username===ee&&e.selected_service===m&&e.sub_Service_Name===S})).map((function(e,t){return(0,d.jsx)("option",{children:e.fees},t)}))]})}),(0,d.jsx)(a.b7,{lg:6,md:6,sm:12,children:(0,d.jsx)(a.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Deal Name",value:Y,onChange:function(e){return E(e.target.value)},placeholder:"Enter Deal Name"})}),(0,d.jsx)(a.b7,{lg:6,md:6,sm:12,children:(0,d.jsx)(a.jO,{className:"mb-1",type:"date",id:"exampleFormControlInput1",label:"Start Date",value:T,onChange:function(e){return V(e.target.value)},placeholder:"Enter Start Date"})}),(0,d.jsx)(a.b7,{lg:6,md:6,sm:12,children:(0,d.jsx)(a.jO,{className:"mb-1",type:"date",id:"exampleFormControlInput1",label:"End Date",value:B,onChange:function(e){return F(e.target.value)},placeholder:"Enter End Date"})}),(0,d.jsx)(a.b7,{lg:6,md:6,sm:12,children:(0,d.jsx)(a.jO,{className:"mb-1",type:"number",id:"exampleFormControlInput1",label:"Discount",value:L,onChange:function(e){G(e.target.value),R(_-_/100*L)},placeholder:"Enter Discount"})}),(0,d.jsx)(a.b7,{lg:6,md:6,sm:12,children:(0,d.jsx)(a.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Net Fees",value:J,placeholder:"Enter Discount"})})]}),(0,d.jsx)(a.kV,{size:"xl",label:"Status",style:{defaultChecked:"false"},value:q,onChange:function(){return K(!q)}}),(0,d.jsx)(a.u5,{className:"mt-2",onClick:function(){return function(){if(""!=Y&&""!=m&&""!=S&&""!=p&&""!=_&&""!=T&&""!=B&&""!=J&&""!=L){var e={username:ee,ServiceName:m,ServiceVariation:S,duration:p,fees:_,dealName:Y,startDate:T,endDate:B,discount:L,netfees:J,status:q};c().post("".concat(Q,"/offer/create"),e,{headers:oe}).then((function(e){console.log(e.data),alert("Successfully Added"),ue(),s(!1)})).catch((function(e){return console.log(e)}))}else alert("enter all details")}()},children:"Save"})]})]}),(0,d.jsxs)(a.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,d.jsx)(a.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,d.jsxs)(a.T6,{children:[(0,d.jsx)(a.is,{children:"Sr.No"}),(0,d.jsx)(a.is,{children:"Date"}),(0,d.jsx)(a.is,{children:"Service"}),(0,d.jsx)(a.is,{children:"Deal Name"}),(0,d.jsx)(a.is,{children:"Start Date"}),(0,d.jsx)(a.is,{children:"End Date"}),(0,d.jsx)(a.is,{children:"Services Variation"}),(0,d.jsx)(a.is,{children:"Services Duration"}),(0,d.jsx)(a.is,{children:"Services Fee"}),(0,d.jsx)(a.is,{children:"Discount Rate"}),(0,d.jsx)(a.is,{children:"Discount Value"}),(0,d.jsx)(a.is,{children:"Status"}),(0,d.jsx)(a.is,{children:"Action"})]})}),(0,d.jsx)(a.NR,{children:re.filter((function(e){return e.username===ee})).map((function(e,t){return(0,d.jsxs)(a.T6,{children:[(0,d.jsx)(a.NN,{children:t+1}),(0,d.jsx)(a.NN,{children:l()(e.createdAt).format("MM-DD-YYYY")}),(0,d.jsx)(a.NN,{children:e.ServiceName}),(0,d.jsx)(a.NN,{children:e.dealName}),(0,d.jsx)(a.NN,{children:l()(e.startDate).format("MM-DD-YYYY")}),(0,d.jsx)(a.NN,{children:l()(e.endDate).format("MM-DD-YYYY")}),(0,d.jsx)(a.NN,{children:e.ServiceVariation}),(0,d.jsx)(a.NN,{children:e.duration}),(0,d.jsx)(a.NN,{children:e.fees}),(0,d.jsxs)(a.NN,{children:[e.discount,"%"]}),(0,d.jsx)(a.NN,{children:e.fees-e.fees/100*e.discount}),(0,d.jsx)(a.NN,{children:(0,d.jsx)(a.kV,{size:"xl",style:{cursor:"pointer"},id:e._id,value:e.status,checked:e.status,onChange:function(){return function(e,t){var n={Status:t};fetch("".concat(Q,"/offer/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat($),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.json().then((function(e){ue()}))}))}(e._id,!e.status)}})}),(0,d.jsxs)(a.NN,{children:[(0,d.jsx)(u.ZkW,{style:{cursor:"pointer",markerStart:"10px"},size:"20px",onClick:function(){return t=e._id,void(confirm("You want to delete this")&&fetch("".concat(Q,"/offer/delete/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat($),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){console.warn(e),ue()}))})));var t}})," "]})]},t)}))})]})]})]})}}}]);
//# sourceMappingURL=7212.efd49969.chunk.js.map