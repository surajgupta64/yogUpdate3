"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7125],{67125:function(e,n,t){t.r(n);var r=t(70885),a=(t(24846),t(78983)),i=t(74569),s=t.n(i),c=t(72426),o=t.n(c),l=t(72791),u=t(16856),d=t(80184),h="https://yog-seven.vercel.app";n.default=function(){var e=(0,l.useState)(!1),n=(0,r.Z)(e,2),t=(n[0],n[1]),i=(0,l.useState)(""),c=(0,r.Z)(i,2),f=c[0],x=c[1],j=(0,l.useState)(""),m=(0,r.Z)(j,2),p=m[0],b=m[1],g=(0,l.useState)(!1),y=(0,r.Z)(g,2),S=y[0],N=y[1],v=JSON.parse(localStorage.getItem("user-info")),k=v.token,C=v.user.username,_=(0,l.useState)([]),M=(0,r.Z)(_,2),A=M[0],H=M[1],z=(0,l.useState)(0),B=(0,r.Z)(z,2),E=B[0],Z=B[1],w={Authorization:"Bearer ".concat(k),"My-Custom-Header":"foobar"};function D(){s().get("".concat(h,"/holidaysListMaster/all"),{headers:{Authorization:"Bearer ".concat(k)}}).then((function(e){console.log(e.data),H(e.data.reverse())})).catch((function(e){console.error(e)}))}(0,l.useEffect)((function(){D()}),[]);return(0,d.jsx)(a.rb,{children:(0,d.jsx)(a.b7,{lg:12,sm:12,children:(0,d.jsxs)(a.xH,{className:"mb-3 border-success",children:[(0,d.jsx)(a.bn,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,d.jsx)(a.tj,{className:"mt-2",children:"Holiday List Master"})}),(0,d.jsxs)(a.sl,{children:[(0,d.jsxs)(a.rb,{className:"d-flex mb-2",children:[(0,d.jsx)(a.b7,{lg:3,sm:6,className:"mb-2",children:(0,d.jsx)(a.jO,{type:"date",placeholder:"Search",label:"Starting Month & Year",value:f,onChange:function(e){return x(e.target.value)}})}),(0,d.jsx)(a.b7,{lg:3,sm:6,className:"mb-2",children:(0,d.jsx)(a.jO,{type:"text",placeholder:"Enter Holiday",label:"Holiday",value:p,onChange:function(e){return b(e.target.value)}})})]}),(0,d.jsx)(a.kV,{size:"xl",label:"Status",value:S,onChange:function(){return N(!S)}}),(0,d.jsx)(a.u5,{type:"button",color:"primary",onClick:function(){return function(){if(""!=p&&""!=f){var e={username:C,Date:f,Holiday:p,Status:S};s().post("".concat(h,"/holidaysListMaster/create"),e,{headers:w}).then((function(e){console.log(e.data),alert("Successfully Added"),D(),t(!1),x(""),b(""),N(!1)})).catch((function(e){return console.log(e)}))}else alert("enter lead Source")}()},children:"Save"}),(0,d.jsxs)(a.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,d.jsx)(a.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,d.jsxs)(a.T6,{children:[(0,d.jsx)(a.is,{children:"Sno."}),(0,d.jsx)(a.is,{children:"Date"}),(0,d.jsx)(a.is,{children:"Enter Holiday"}),(0,d.jsx)(a.is,{children:"Status"}),(0,d.jsx)(a.is,{children:"Action"})]})}),(0,d.jsx)(a.NR,{children:A.slice(10*E,10*E+10).filter((function(e){return e.username===C})).map((function(e,n){return e.username===C&&(0,d.jsxs)(a.T6,{children:[(0,d.jsx)(a.NN,{children:n+1+10*E}),(0,d.jsx)(a.NN,{children:o()(e.Date).format("MM-DD-YYYY")}),(0,d.jsx)(a.NN,{children:e.Holiday}),(0,d.jsx)(a.NN,{className:"text-center",children:(0,d.jsx)(a.kV,{size:"xl",style:{cursor:"pointer"},id:e._id,value:e.Status,checked:e.Status,onChange:function(){return function(e,n){var t={Status:n};fetch("".concat(h,"/holidaysListMaster/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(k),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){D()}))}))}(e._id,!e.Status)}})}),(0,d.jsxs)(a.NN,{children:[" ",(0,d.jsx)(u.ZkW,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return n=e._id,void(confirm("You want to delete this")&&fetch("".concat(h,"/holidaysListMaster/delete/").concat(n),{method:"DELETE",headers:{Authorization:"Bearer ".concat(k),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){console.warn(e),D()}))})));var n},size:"20px"})," "]})]},n)}))})]})]}),(0,d.jsxs)(a.E7,{"aria-label":"Page navigation example",align:"center",className:"mt-2",children:[(0,d.jsx)(a.tn,{"aria-label":"Previous",disabled:0==E,onClick:function(){return E>0&&Z(E-1)},children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xab"})}),(0,d.jsx)(a.tn,{active:!0,onClick:function(){return Z(0)},children:E+1}),A.filter((function(e){return e.username===C})).length>10*(E+1)&&(0,d.jsx)(a.tn,{onClick:function(){return Z(E+1)},children:E+2}),A.filter((function(e){return e.username===C})).length>10*(E+2)&&(0,d.jsx)(a.tn,{onClick:function(){return Z(E+2)},children:E+3}),A.filter((function(e){return e.username===C})).length>10*(E+1)?(0,d.jsx)(a.tn,{"aria-label":"Next",onClick:function(){return Z(E+1)},children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xbb"})}):(0,d.jsx)(a.tn,{disabled:!0,"aria-label":"Next",onClick:function(){return Z(E+1)},children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})]})]})})})}}}]);
//# sourceMappingURL=7125.4db92900.chunk.js.map