"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2004],{32004:function(e,n,t){t.r(n);var a=t(70885),i=t(78983),r=t(74569),s=t.n(r),c=t(72791),l=t(16856),o=t(80184),u="https://yog-seven.vercel.app";n.default=function(){var e=(0,c.useState)(!1),n=(0,a.Z)(e,2),t=n[0],r=n[1],d=(0,c.useState)(""),h=(0,a.Z)(d,2),j=h[0],x=h[1],m=(0,c.useState)(""),p=(0,a.Z)(m,2),f=p[0],b=p[1],g=(0,c.useState)(""),N=(0,a.Z)(g,2),v=N[0],y=N[1],C=(0,c.useState)(!1),k=(0,a.Z)(C,2),S=k[0],_=k[1],A=JSON.parse(localStorage.getItem("user-info")),D=A.token,V=A.user.username,J=(0,c.useState)([]),O=(0,a.Z)(J,2),T=O[0],Z=O[1],w=(0,c.useState)(0),z=(0,a.Z)(w,2),B=z[0],E=z[1];function I(){s().get("".concat(u,"/designation/all"),{headers:{Authorization:"Bearer ".concat(D)}}).then((function(e){Z(e.data.reverse())})).catch((function(e){console.error(e)}))}(0,c.useEffect)((function(){I()}),[]);return(0,o.jsxs)(i.xH,{className:"mb-3 border-success",children:[(0,o.jsx)(i.bn,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,o.jsx)(i.tj,{children:"Designation Master"})}),(0,o.jsxs)(i.sl,{children:[(0,o.jsxs)(i.lx,{className:"mb-2",children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{children:(0,o.jsx)(i.rb,{children:(0,o.jsx)(i.b7,{children:(0,o.jsx)(i.u5,{className:"ms-1 mt-2",onClick:function(){r(!t),_(!1)},children:t?"close":"Add Vacancy"})})})})]}),t&&(0,o.jsx)("div",{children:(0,o.jsxs)(i.rb,{className:"mt-3",children:[(0,o.jsx)(i.b7,{lg:6,md:6,sm:12,children:(0,o.jsx)(i.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Job Designation Name",value:j,onChange:function(e){return x(e.target.value)},placeholder:"Enter Job Designation"})}),(0,o.jsx)(i.b7,{lg:6,md:6,sm:12,children:(0,o.jsx)(i.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Job Department Name",value:f,onChange:function(e){return b(e.target.value)},placeholder:"Enter Job Department"})}),(0,o.jsx)(i.b7,{lg:6,md:6,sm:12,children:(0,o.jsx)(i.jO,{className:"mb-1",type:"number",id:"exampleFormControlInput1",label:"Available Vacancy",value:v,onChange:function(e){return y(e.target.value)},placeholder:"No of Vacancy"})}),(0,o.jsxs)(i.b7,{className:"mt-2",lg:6,md:6,sm:12,children:[(0,o.jsx)(i.kV,{size:"xl",label:"Status",value:S,onChange:function(){return _(!S)},style:{defaultChecked:"false"}}),(0,o.jsx)(i.u5,{className:"mt-2",onClick:function(){var e={username:V,jobDesignation:j,department:f,availableVacancy:v,status:S};fetch("".concat(u,"/designation/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(D),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(){_(!1),x(""),b(""),y(""),alert("successfully submitted")}))}))},children:"Save"})]})]})})]}),(0,o.jsxs)(i.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,o.jsx)(i.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,o.jsxs)(i.T6,{children:[(0,o.jsx)(i.is,{children:"Sr.No"}),(0,o.jsx)(i.is,{children:"Job Designation"}),(0,o.jsx)(i.is,{children:"Department"}),(0,o.jsx)(i.is,{children:"Available Vacancy"}),(0,o.jsx)(i.is,{children:"Status"}),(0,o.jsx)(i.is,{children:"Action"})]})}),(0,o.jsx)(i.NR,{children:T.slice(10*B,10*B+10).map((function(e,n){return e.username===V&&(0,o.jsxs)(i.T6,{children:[(0,o.jsx)(i.NN,{children:n+1+10*B}),(0,o.jsx)(i.NN,{children:e.jobDesignation}),(0,o.jsx)(i.NN,{children:e.department}),(0,o.jsx)(i.NN,{children:e.availableVacancy}),(0,o.jsx)(i.NN,{children:(0,o.jsx)(i.kV,{size:"xl",style:{cursor:"pointer"},id:e._id,value:e.status,checked:e.status,onChange:function(){return function(e,n){var t={status:n};fetch("".concat(u,"/designation/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(D),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){I()}))}))}(e._id,!e.status)}})}),(0,o.jsxs)(i.NN,{children:[(0,o.jsx)(l.ZkW,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return n=e._id,void(confirm("Do you want to delete this")&&fetch("".concat(u,"/designation/delete/").concat(n),{method:"DELETE",headers:{Authorization:"Bearer ".concat(D),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){console.warn(e),I()}))})));var n},size:"20px"})," "]})]},n)}))})]})]}),(0,o.jsxs)(i.E7,{"aria-label":"Page navigation example",align:"center",className:"mt-2",children:[(0,o.jsx)(i.tn,{"aria-label":"Previous",disabled:0==B,onClick:function(){return B>0&&E(B-1)},children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xab"})}),(0,o.jsx)(i.tn,{active:!0,onClick:function(){return E(0)},children:B+1}),T.filter((function(e){return e.username===V})).length>10*(B+1)&&(0,o.jsx)(i.tn,{onClick:function(){return E(B+1)},children:B+2}),T.filter((function(e){return e.username===V})).length>10*(B+2)&&(0,o.jsx)(i.tn,{onClick:function(){return E(B+2)},children:B+3}),T.filter((function(e){return e.username===V})).length>10*(B+1)?(0,o.jsx)(i.tn,{"aria-label":"Next",onClick:function(){return E(B+1)},children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xbb"})}):(0,o.jsx)(i.tn,{disabled:!0,"aria-label":"Next",onClick:function(){return E(B+1)},children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})]})]})}}}]);
//# sourceMappingURL=2004.e04eea28.chunk.js.map