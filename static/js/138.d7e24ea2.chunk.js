"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[138],{80138:function(e,n,t){t.r(n);var a=t(70885),r=t(78983),l=t(74569),s=t.n(l),i=t(72791),c=t(39126),o=t(16856),d=t(80184),u="https://yog-seven.vercel.app";n.default=function(){var e=(0,i.useState)(!1),n=(0,a.Z)(e,2),t=n[0],l=n[1],m=(0,i.useState)(!1),x=(0,a.Z)(m,2),h=x[0],p=x[1],j=(0,i.useState)(),b=(0,a.Z)(j,2),N=b[0],f=b[1],g=(0,i.useState)(""),y=(0,a.Z)(g,2),C=y[0],S=y[1],v=(0,i.useState)(""),k=(0,a.Z)(v,2),I=k[0],O=k[1],Z=(0,i.useState)(""),_=(0,a.Z)(Z,2),F=_[0],A=_[1],E=(0,i.useState)(""),z=(0,a.Z)(E,2),H=z[0],T=z[1],W=(0,i.useState)(""),L=(0,a.Z)(W,2),w=L[0],B=L[1],P=(0,i.useState)(""),M=(0,a.Z)(P,2),J=M[0],V=M[1],D=(0,i.useState)([]),R=(0,a.Z)(D,2),G=R[0],q=R[1],K=(0,i.useState)(""),Q=(0,a.Z)(K,2),U=Q[0],X=Q[1],Y=(0,i.useState)(""),$=(0,a.Z)(Y,2),ee=$[0],ne=$[1],te=(0,i.useState)(""),ae=(0,a.Z)(te,2),re=ae[0],le=ae[1],se=(0,i.useState)(""),ie=(0,a.Z)(se,2),ce=ie[0],oe=ie[1],de=(0,i.useState)(""),ue=(0,a.Z)(de,2),me=ue[0],xe=ue[1],he=(0,i.useState)(""),pe=(0,a.Z)(he,2),je=pe[0],be=pe[1],Ne=JSON.parse(localStorage.getItem("user-info")),fe=(0,i.useState)(0),ge=(0,a.Z)(fe,2),ye=ge[0],Ce=ge[1];console.log(Ne);var Se=Ne.token,ve=Ne.user.username;Ne.user.centerCode;function ke(){s().get("".concat(u,"/impCallList/all"),{headers:{Authorization:"Bearer ".concat(Se)}}).then((function(e){q(e.data.reverse()),console.log(e.data)})).catch((function(e){console.error(e)}))}(0,i.useEffect)((function(){ke()}),[]);var Ie=function(e){f(e),function(e){s().get("".concat(u,"/impCallList/").concat(e),{headers:{Authorization:"Bearer ".concat(Se)}}).then((function(e){S(e.data.name),O(e.data.phone),A(e.data.email),T(e.data.category),B(e.data.address),V(e.data.company),l(!0)})).catch((function(e){console.error(e)}))}(e)};return(0,d.jsxs)(r.rb,{className:"d-flex mb-2",children:[(0,d.jsx)(r.b7,{lg:9,sm:6,className:"mb-2",children:(0,d.jsx)(r.oo,{autohide:!0,visible:h,color:"success",className:"align-items-center",children:(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)(r.S3,{style:{color:"white"},children:"Successfully Submitted."}),(0,d.jsx)(r.Pv,{className:"me-2 m-auto"})]})})}),(0,d.jsx)(r.b7,{lg:3,sm:6,className:"mb-2",children:(0,d.jsx)(r.u5,{className:"float-end",onClick:function(){l(!t),f(""),S(""),O(""),A(""),T(""),B(""),V("")},children:t?"Close":"Add Importent Number"})}),t&&(0,d.jsx)(r.xH,{className:"mt-2 mb-2",children:(0,d.jsx)(r.sl,{children:(0,d.jsx)(r.lx,{children:(0,d.jsxs)(r.rb,{children:[(0,d.jsx)(r.b7,{lg:3,sm:6,children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",name:"name",id:"exampleFormControlInput1",label:"Name ",value:C,onChange:function(e){return S(e.target.value)},placeholder:"Enter Name"})}),(0,d.jsx)(r.b7,{lg:3,sm:6,children:(0,d.jsx)(r.jO,{className:"mb-1",type:"number",id:"exampleFormControlInput1",label:"Mobile Number",value:I,onChange:function(e){return O(e.target.value)},placeholder:"Enter Mobile Number"})}),(0,d.jsx)(r.b7,{lg:3,sm:6,children:(0,d.jsx)(r.jO,{className:"mb-1",type:"email",id:"exampleFormControlInput1",label:"Email Address",value:F,onChange:function(e){return A(e.target.value)},placeholder:"Enter Email Address"})}),(0,d.jsx)(r.b7,{lg:3,sm:6,children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Category",value:H,onChange:function(e){return T(e.target.value)},placeholder:"Enter Category"})}),(0,d.jsx)(r.b7,{lg:6,sm:12,children:(0,d.jsx)(r.PB,{id:"exampleFormControlTextarea1",label:"Address",placeholder:"Enter Address",value:w,onChange:function(e){return B(e.target.value)},rows:"2",text:"Must be 8-20 words long."})}),(0,d.jsx)(r.b7,{lg:3,sm:6,children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",value:J,onChange:function(e){return V(e.target.value)},label:"Company Name",placeholder:"Enter Company Name"})}),(0,d.jsx)(r.b7,{className:"mt-4",children:N?(0,d.jsx)(r.u5,{onClick:function(){return function(){var e={username:ve,name:C,mobile:I,email:F,category:H,address:w,company:J};fetch("".concat(u,"/impCallList/update/").concat(N),{method:"POST",headers:{Authorization:"Bearer ".concat(Se),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(){alert("successfully submitted"),setVisible(!1)}))}))}()},children:"update"}):(0,d.jsx)(r.u5,{onClick:function(){!function(){var e={username:ve,name:C,mobile:I,email:F,category:H,address:w,company:J};fetch("".concat(u,"/impCallList/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(Se),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(){p(!0),l(!1)}))}))}()},children:"Save"})})]})})})}),(0,d.jsxs)(r.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,d.jsx)(r.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,d.jsxs)(r.T6,{children:[(0,d.jsx)(r.is,{children:"Sr.No"}),(0,d.jsx)(r.is,{children:"Name"}),(0,d.jsx)(r.is,{children:"Mobile"}),(0,d.jsx)(r.is,{children:"Email"}),(0,d.jsx)(r.is,{children:"Address"}),(0,d.jsx)(r.is,{children:"Category"}),(0,d.jsx)(r.is,{children:"Company Name"}),(0,d.jsx)(r.is,{children:"Action"}),(0,d.jsx)(r.is,{children:"Edit"})]})}),(0,d.jsxs)(r.NR,{children:[(0,d.jsxs)(r.T6,{children:[(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"60px"},type:"text",disabled:!0,"aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",style:{minWidth:"120px"},value:U,onChange:function(e){return X(e.target.value)},"aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"120px"},value:ee,onChange:function(e){return ne(e.target.value)},type:"number","aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"100px"},value:re,onChange:function(e){return le(e.target.value)},type:"text","aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",style:{minWidth:"200px"},value:ce,onChange:function(e){return oe(e.target.value)},"aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"120px"},value:me,onChange:function(e){return xe(e.target.value)},type:"text","aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"120px"},value:je,onChange:function(e){return be(e.target.value)},type:"text","aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",style:{minWidth:"120px"},type:"text",disabled:!0,"aria-describedby":"exampleFormControlInputHelpInline"})}),(0,d.jsx)(r.NN,{children:(0,d.jsx)(r.jO,{className:"mb-1",type:"text",style:{minWidth:"120px"},disabled:!0,"aria-describedby":"exampleFormControlInputHelpInline"})})]}),G.slice(10*ye,10*ye+10).filter((function(e){return e.username===ve&&e.name.includes(U)&&e.mobile.toString().includes(ee.toString())&&e.email.includes(re)&&e.address.includes(ce)&&e.category.includes(me)&&e.company.includes(je)})).map((function(e,n){return(0,d.jsxs)(r.T6,{children:[(0,d.jsx)(r.NN,{children:n+1+10*ye}),(0,d.jsx)(r.NN,{children:e.name}),(0,d.jsx)(r.NN,{children:e.mobile}),(0,d.jsx)(r.NN,{children:e.email}),(0,d.jsx)(r.NN,{children:e.address}),(0,d.jsx)(r.NN,{children:e.category}),(0,d.jsx)(r.NN,{children:e.company}),(0,d.jsxs)(r.NN,{className:"text-center",children:[(0,d.jsx)("a",{href:"tel:".concat(e.mobile),target:"_black",children:(0,d.jsx)(o.fFs,{style:{cursor:"pointer",markerStart:"10px"},size:"20px"})}),(0,d.jsx)("a",{href:"https://wa.me/".concat(e.mobile),target:"_black",children:(0,d.jsx)(c.RGt,{style:{marginLeft:"4px",cursor:"pointer",markerStart:"10px"},size:"20px"})}),(0,d.jsxs)("a",{href:"mailto: ".concat(e.email),target:"_black",children:[" ",(0,d.jsx)(o.h6V,{style:{cursor:"pointer",markerStart:"10px",marginLeft:"4px"},size:"20px"})]})," "]}),(0,d.jsxs)(r.NN,{className:"text-center",children:[(0,d.jsx)(o.zmo,{id:e._id,style:{fontSize:"35px",cursor:"pointer",markerStart:"10px"},onClick:function(){return Ie(e._id)},size:"20px"})," ",(0,d.jsx)(o.ZkW,{style:{cursor:"pointer",markerStart:"10px",marginLeft:"5px"},onClick:function(){return function(e){confirm("Do you want to delete this")&&fetch("".concat(u,"/impCallList/delete/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(Se),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(){ke()}))}))}(e._id)},size:"20px"})]})]},n)}))]})]}),(0,d.jsxs)(r.E7,{"aria-label":"Page navigation example",align:"center",className:"mt-2",children:[(0,d.jsx)(r.tn,{"aria-label":"Previous",disabled:0==ye,onClick:function(){return ye>0&&Ce(ye-1)},children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xab"})}),(0,d.jsx)(r.tn,{active:!0,onClick:function(){return Ce(0)},children:ye+1}),G.filter((function(e){return e.username===ve&&e.name.includes(U)&&e.mobile.toString().includes(ee.toString())&&e.email.includes(re)&&e.address.includes(ce)&&e.category.includes(me)&&e.company.includes(je)})).length>10*(ye+1)&&(0,d.jsx)(r.tn,{onClick:function(){return Ce(ye+1)},children:ye+2}),G.filter((function(e){return e.username===ve&&e.name.includes(U)&&e.mobile.toString().includes(ee.toString())&&e.email.includes(re)&&e.address.includes(ce)&&e.category.includes(me)&&e.company.includes(je)})).length>10*(ye+2)&&(0,d.jsx)(r.tn,{onClick:function(){return Ce(ye+2)},children:ye+3}),G.filter((function(e){return e.username===ve&&e.name.includes(U)&&e.mobile.toString().includes(ee.toString())&&e.email.includes(re)&&e.address.includes(ce)&&e.category.includes(me)&&e.company.includes(je)})).length>10*(ye+1)?(0,d.jsx)(r.tn,{"aria-label":"Next",onClick:function(){return Ce(ye+1)},children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xbb"})}):(0,d.jsx)(r.tn,{disabled:!0,"aria-label":"Next",onClick:function(){return Ce(ye+1)},children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})]})]})}}}]);
//# sourceMappingURL=138.d7e24ea2.chunk.js.map