"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[161],{30161:function(e,t,n){n.r(t);var a=n(70885),c=n(78983),r=n(74569),s=n.n(r),i=n(72791),l=n(16856),o=n(80184),u="https://yog-seven.vercel.app";t.default=function(){var e=(0,i.useState)(!1),t=(0,a.Z)(e,2),n=t[0],r=t[1],h=(0,i.useState)(""),d=(0,a.Z)(h,2),m=d[0],j=d[1],x=(0,i.useState)(""),f=(0,a.Z)(x,2),v=f[0],p=f[1],b=(0,i.useState)(""),N=(0,a.Z)(b,2),g=N[0],S=N[1],_=(0,i.useState)(""),B=(0,a.Z)(_,2),y=B[0],C=B[1],k=(0,i.useState)(""),A=(0,a.Z)(k,2),T=A[0],Z=A[1],z=JSON.parse(localStorage.getItem("user-info"));console.log(z);var w=z.token,D=z.user.username,O=(0,i.useState)([]),E=(0,a.Z)(O,2),J=E[0],L=E[1],V=(0,i.useState)([]),I=(0,a.Z)(V,2),P=(I[0],I[1]),X=(0,i.useState)([]),F=(0,a.Z)(X,2),H=F[0],M=F[1];function R(){s().get("".concat(u,"/Batch/all"),{headers:{Authorization:"Bearer ".concat(w)}}).then((function(e){L(e.data)})).catch((function(e){console.error(e)}))}(0,i.useEffect)((function(){R(),s().get("".concat(u,"/service/all"),{headers:{Authorization:"Bearer ".concat(w)}}).then((function(e){console.log(e.data),P(e.data)})).catch((function(e){console.error(e)})),s().get("".concat(u,"/subservice/all"),{headers:{Authorization:"Bearer ".concat(w)}}).then((function(e){M(e.data)})).catch((function(e){console.error(e)}))}),[]);return(0,o.jsxs)(c.xH,{className:"mb-3 border-success",children:[(0,o.jsx)(c.bn,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,o.jsx)(c.tj,{children:"Batch Master"})}),(0,o.jsxs)(c.sl,{children:[(0,o.jsxs)(c.lx,{className:"mb-2",children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{children:(0,o.jsx)(c.rb,{children:(0,o.jsx)(c.b7,{children:(0,o.jsx)(c.u5,{className:"ms-1 mt-2",onClick:function(){return r(!n)},children:n?"close":"Add New Batch"})})})})]}),n&&(0,o.jsx)("div",{children:(0,o.jsxs)(c.rb,{className:"mt-3",children:[(0,o.jsx)(c.b7,{lg:4,md:6,sm:12,children:(0,o.jsxs)(c.LX,{className:"mb-1","aria-label":"Select Service",label:"Service",value:v,onChange:function(e){return p(e.target.value)},children:[(0,o.jsx)("option",{children:"Select"}),(0,o.jsx)("option",{children:"None"}),H.map((function(e,t){return e.username===D&&!0===e.status&&(0,o.jsxs)("option",{children:[e.selected_service," ",e.sub_Service_Name]},t)}))]})}),(0,o.jsx)(c.b7,{lg:4,md:6,sm:12,children:(0,o.jsx)(c.jO,{className:"mb-1",type:"time",id:"exampleFormControlInput1",label:"Batch Timing ",value:y,onChange:function(e){return C(e.target.value)},placeholder:"Enter Batch Timing"})}),(0,o.jsx)(c.b7,{lg:4,md:6,sm:12,children:(0,o.jsx)(c.LX,{className:"mb-1","aria-label":"Select Service",label:"Batch Duration",value:g,onChange:function(e){return S(e.target.value)},options:["Select Duration",{label:"30 min",value:"30 min"},{label:"1 hr",value:"1 hr"},{label:"1 hr 30 min",value:"1 hr 30 min"},{label:"2 hr",value:"2 hr"},{label:"2 hr 30 min",value:"2 hr 30 min"},{label:"3 hr",value:"3 hr"},{label:"3 hr 30 min",value:"3 hr 30 min"}]})}),(0,o.jsxs)(c.b7,{lg:6,md:6,sm:12,children:[(0,o.jsx)(c.kV,{size:"xl",className:"mt-2",value:T,onChange:function(){return Z(!T)},label:"Status",style:{defaultChecked:"false"}}),(0,o.jsx)(c.u5,{className:"mt-2",onClick:function(){var e={username:D,service_name:m,service_variation:v,Batch_Duration:g,batch_timing:y,status:T};fetch("".concat(u,"/Batch/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(w),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(){alert("successfully submitted"),j(""),p(""),S(""),C(""),Z(!1),R()}))}))},children:"Save"})]})]})})]}),(0,o.jsxs)(c.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,o.jsx)(c.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,o.jsxs)(c.T6,{children:[(0,o.jsx)(c.is,{children:"Sr.No"}),(0,o.jsx)(c.is,{children:"Service Name"}),(0,o.jsx)(c.is,{children:"Batch Duration"}),(0,o.jsx)(c.is,{children:"Batch Timing"}),(0,o.jsx)(c.is,{children:"Status"}),(0,o.jsx)(c.is,{children:"Action"})]})}),(0,o.jsx)(c.NR,{children:J.map((function(e,t){return e.username===D&&(0,o.jsxs)(c.T6,{children:[(0,o.jsx)(c.NN,{children:t+1}),(0,o.jsx)(c.NN,{children:e.service_variation}),(0,o.jsx)(c.NN,{children:e.Batch_Duration}),(0,o.jsx)(c.NN,{children:e.batch_timing}),(0,o.jsx)(c.NN,{children:(0,o.jsx)(c.kV,{size:"xl",style:{cursor:"pointer"},id:e._id,value:e.status,checked:e.status,onChange:function(){return function(e,t){var n={status:t};fetch("".concat(u,"/Batch/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(w),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.json().then((function(e){R()}))}))}(e._id,!e.status)}})}),(0,o.jsxs)(c.NN,{children:[" ",(0,o.jsx)(l.ZkW,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return t=e._id,void(confirm("Do you want to delete this")&&fetch("".concat(u,"/Batch/delete/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(w),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){R()}))})));var t},size:"20px"})," "]})]},t)}))})]})]})]})}}}]);
//# sourceMappingURL=161.ca863a1f.chunk.js.map