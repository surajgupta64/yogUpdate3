"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5661],{21343:function(e,n,r){r(72791);var c=r(78983),t=r(24846),i=r(80184),o=function(e){var n=e.item,r=e.column;return(0,i.jsx)(c.T6,{children:r.map((function(e,r){return(0,i.jsxs)(c.NN,{children:["sr"===e.value&&r+1,void 0!==e.value&&n["".concat(e.value)],void 0!==e.iconBtn&&(0,i.jsx)(t.Z,{size:"xl",style:{borderRadius:"15px"},icon:e.iconBtn}),"switch"===e.Btn&&(0,i.jsx)(c.kV,{size:"xl",style:{cursor:"pointer"}}),void 0!==e.btn&&(0,i.jsxs)(c.u5,{style:{color:"white",backgroundColor:"#0B5345"},children:[" ",e.btn]}),void 0!==e.com&&e.com]},r)}))})};n.Z=function(e){var n=e.heading,r=e.data;return(0,i.jsxs)(c.Sx,{align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,i.jsx)(c.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,i.jsx)(c.T6,{children:n.map((function(e,n){return(0,i.jsx)(c.is,{children:e.heading},n)}))})}),(0,i.jsx)(c.NR,{children:r.map((function(e,r){return(0,i.jsx)(o,{item:e,column:n},r)}))})]})}},55661:function(e,n,r){r.r(n);var c=r(70885),t=r(72791),i=r(78983),o=r(24846),s=r(65792),a=(r(21343),r(16856)),l=r(72426),d=r.n(l),u=r(74569),h=r.n(u),x=r(80184),j="https://yog-seven.vercel.app";n.default=function(){var e=(0,t.useState)(null),n=(0,c.Z)(e,2),r=(n[0],n[1],JSON.parse(localStorage.getItem("user-info"))),l=r.token,u=r.user.username,m=(r.user.centerCode,(0,t.useState)([])),p=(0,c.Z)(m,2),f=p[0],b=p[1],N=(0,t.useState)([]),v=(0,c.Z)(N,2),k=(v[0],v[1]);function y(){h().get("".concat(j,"/staffAttendance/all"),{headers:{Authorization:"Bearer ".concat(l)}}).then((function(e){b(e.data),console.log(e.data)})).catch((function(e){console.error(e)}))}(0,t.useEffect)((function(){y(),h().get("".concat(j,"/employeeForm/all"),{headers:{Authorization:"Bearer ".concat(l)}}).then((function(e){k(e.data)})).catch((function(e){console.error(e)}))}),[]);var C=function(e){var n={checkOut:(new Date).toLocaleTimeString()};fetch("".concat(j,"/staffAttendance/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(l),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.json().then((function(e){y()}))}))},g=function(e){fetch("".concat(j,"/staffAttendance/delete/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(l),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){y()}))}))};return(0,x.jsx)(i.rb,{children:(0,x.jsx)(i.b7,{lg:12,sm:12,children:(0,x.jsxs)(i.xH,{className:"mb-3 border-success",children:[(0,x.jsx)(i.bn,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,x.jsx)(i.tj,{className:"mt-2",children:"Staff Check Ins"})}),(0,x.jsxs)(i.sl,{children:[(0,x.jsxs)(i.rb,{className:"d-flex mb-2",children:[(0,x.jsx)(i.b7,{lg:3,sm:6,className:"mb-2",children:(0,x.jsxs)(i.LX,{id:"inputGroupSelect04","aria-label":"Example select with button addon",children:[(0,x.jsx)("option",{children:"Name"}),(0,x.jsx)("option",{value:"1",children:"Location"}),(0,x.jsx)("option",{value:"3",children:"Mobile"}),(0,x.jsx)("option",{value:"3",children:"Email"}),(0,x.jsx)("option",{value:"2",children:"Department"}),(0,x.jsx)("option",{value:"2",children:"Desgantion"})]})}),(0,x.jsx)(i.b7,{lg:4,sm:6,className:"mb-2",children:(0,x.jsxs)(i.YR,{children:[(0,x.jsx)(i.jO,{type:"date",placeholder:"Search","aria-label":"Recipient's username","aria-describedby":"button-addon2"}),(0,x.jsx)(i.u5,{type:"button",color:"primary",children:"Search"})]})}),(0,x.jsx)(i.b7,{lg:5,sm:6,className:"mb-2",children:(0,x.jsx)(i.Z0,{className:"float-end",children:(0,x.jsxs)(i.u5,{color:"primary",children:[(0,x.jsx)(o.Z,{icon:s.z})," ","Export"]})})})]}),(0,x.jsxs)(i.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,x.jsx)(i.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,x.jsxs)(i.T6,{children:[(0,x.jsx)(i.is,{children:"Sr.No"}),(0,x.jsx)(i.is,{children:"Staff Name"}),(0,x.jsx)(i.is,{children:"Attendance ID"}),(0,x.jsx)(i.is,{children:"Center ID"}),(0,x.jsx)(i.is,{children:"Check Date"}),(0,x.jsx)(i.is,{children:"CheckIn Time"}),(0,x.jsx)(i.is,{children:"CheckOut Time"}),(0,x.jsx)(i.is,{children:"Action"}),(0,x.jsx)(i.is,{children:"Edit"})]})}),(0,x.jsx)(i.NR,{children:f.reverse().filter((function(e){return e.username===u})).map((function(e,n){return(0,x.jsxs)(i.T6,{children:[(0,x.jsx)(i.NN,{children:n+1}),(0,x.jsx)(i.NN,{children:e.StaffName}),(0,x.jsx)(i.NN,{children:e.attentanceId}),(0,x.jsx)(i.NN,{children:e.centerId}),(0,x.jsx)(i.NN,{children:d()(e.createdAt).format("LL")}),(0,x.jsx)(i.NN,{children:e.checkIn}),(0,x.jsx)(i.NN,{children:e.checkOut}),(0,x.jsx)(i.NN,{children:void 0===e.checkOut?(0,x.jsx)(i.u5,{color:"danger",onClick:function(){return C(e._id)},children:"Check Out"}):(0,x.jsx)(i.u5,{disabled:!0,color:"danger",onClick:function(){return C(e._id)},children:"Check Out"})}),(0,x.jsxs)(i.NN,{children:[(0,x.jsx)(a.zmo,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return g(e._id)},size:"20px"})," ",(0,x.jsx)(a.ZkW,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return g(e._id)},size:"20px"})," "]})]},n)}))})]})]})]})})})}},65792:function(e,n,r){r.d(n,{z:function(){return c}});var c=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M256,16C123.452,16,16,123.452,16,256S123.452,496,256,496,496,388.548,496,256,388.548,16,256,16ZM403.078,403.078a207.253,207.253,0,1,1,44.589-66.125A207.332,207.332,0,0,1,403.078,403.078Z' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='142.319 241.027 164.947 263.654 240 188.602 240 376 272 376 272 188.602 347.053 263.654 369.681 241.027 256 127.347 142.319 241.027' class='ci-primary'/>"]}}]);
//# sourceMappingURL=5661.7c260f49.chunk.js.map