"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7586],{97586:function(e,n,t){t.r(n);var r=t(70885),a=t(78983),s=t(74569),c=t.n(s),i=t(72426),l=t.n(i),o=t(72791),u=t(16856),d=t(80184),h="https://yog-seven.vercel.app";n.default=function(){var e=(0,o.useState)(!1),n=(0,r.Z)(e,2),t=n[0],s=n[1],i=(0,o.useState)(""),x=(0,r.Z)(i,2),j=x[0],m=x[1],f=(0,o.useState)(""),p=(0,r.Z)(f,2),N=p[0],b=p[1],g=(0,o.useState)(!1),v=(0,r.Z)(g,2),C=v[0],S=v[1],k=JSON.parse(localStorage.getItem("user-info")),T=k.token,y=k.user.username,_=(0,o.useState)([]),A=(0,r.Z)(_,2),M=A[0],w=A[1],z=(0,o.useState)(0),B=(0,r.Z)(z,2),E=B[0],Z=B[1],O={Authorization:"Bearer ".concat(T),"My-Custom-Header":"foobar"};function Y(){c().get("".concat(h,"/taxMaster/all"),{headers:{Authorization:"Bearer ".concat(T)}}).then((function(e){console.log(e.data),w(e.data.reverse())})).catch((function(e){console.error(e)}))}(0,o.useEffect)((function(){Y()}),[]);return(0,d.jsxs)(a.xH,{className:"mb-3 border-success",children:[(0,d.jsx)(a.bn,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,d.jsx)(a.tj,{children:"Tax Setup Master"})}),(0,d.jsxs)(a.sl,{children:[(0,d.jsxs)(a.lx,{className:"mb-2",children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,d.jsx)("div",{}),(0,d.jsx)("div",{children:(0,d.jsx)(a.rb,{children:(0,d.jsx)(a.b7,{children:(0,d.jsx)(a.u5,{className:"ms-1 mt-2",onClick:function(){return s(!t)},children:t?"close":"Add Tax"})})})})]}),t&&(0,d.jsx)("div",{children:(0,d.jsxs)(a.rb,{className:"mt-3",children:[(0,d.jsx)(a.b7,{lg:6,md:6,sm:12,children:(0,d.jsx)(a.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Tax Name",value:j,onChange:function(e){return m(e.target.value)},placeholder:"Enter Tax Name"})}),(0,d.jsx)(a.b7,{lg:6,md:6,sm:12,children:(0,d.jsx)(a.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Tax in %",value:N,onChange:function(e){return b(e.target.value)},placeholder:"Enter Tax in %"})}),(0,d.jsxs)(a.b7,{className:"mt-2",lg:6,md:6,sm:12,children:[(0,d.jsx)(a.rb,{children:(0,d.jsx)(a.b7,{children:(0,d.jsx)(a.kV,{size:"xl",label:"Status",value:C,onChange:function(){return S(!C)},style:{defaultChecked:"false"}})})}),(0,d.jsx)(a.u5,{className:"mt-2",onClick:function(){return function(){if(""!=j&&""!=N){var e={username:y,TaxName:j,Tax:N,Status:C};c().post("".concat(h,"/taxMaster/create"),e,{headers:O}).then((function(e){console.log(e.data),alert("Successfully Added"),Y(),s(!1),m(""),b("")})).catch((function(e){return console.log(e)}))}else alert("enter lead Source")}()},children:"Save"})]})]})})]}),(0,d.jsxs)(a.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,d.jsx)(a.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,d.jsxs)(a.T6,{children:[(0,d.jsx)(a.is,{children:"Sr.No"}),(0,d.jsx)(a.is,{children:"Date"}),(0,d.jsx)(a.is,{children:"Tax Name"}),(0,d.jsx)(a.is,{children:"Tax %"}),(0,d.jsx)(a.is,{children:"Status"}),(0,d.jsx)(a.is,{children:"Action"})]})}),(0,d.jsx)(a.NR,{children:M.slice(10*E,10*E+10).map((function(e,n){return e.username===y&&(0,d.jsxs)(a.T6,{children:[(0,d.jsx)(a.NN,{children:n+1+10*E}),(0,d.jsx)(a.NN,{children:l()(e.createdAt).format("MM-DD-YYYY")}),(0,d.jsx)(a.NN,{className:"text-center",children:e.TaxName}),(0,d.jsx)(a.NN,{children:e.Tax}),(0,d.jsx)(a.NN,{children:(0,d.jsx)(a.kV,{size:"xl",style:{cursor:"pointer"},id:e._id,value:e.Status,checked:e.Status,onChange:function(){return function(e,n){var t={Status:n};fetch("".concat(h,"/taxMaster/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(T),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){Y()}))}))}(e._id,!e.Status)}})}),(0,d.jsxs)(a.NN,{children:[" ",(0,d.jsx)(u.ZkW,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return n=e._id,void(confirm("You want to delete this")&&fetch("".concat(h,"/taxMaster/delete/").concat(n),{method:"DELETE",headers:{Authorization:"Bearer ".concat(T),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){console.warn(e),Y()}))})));var n},size:"20px"})," "]})]},n)}))})]})]}),(0,d.jsxs)(a.E7,{"aria-label":"Page navigation example",align:"center",className:"mt-2",children:[(0,d.jsx)(a.tn,{"aria-label":"Previous",disabled:0==E,onClick:function(){return E>0&&Z(E-1)},children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xab"})}),(0,d.jsx)(a.tn,{active:!0,onClick:function(){return Z(0)},children:E+1}),M.filter((function(e){return e.username===y})).length>10*(E+1)&&(0,d.jsx)(a.tn,{onClick:function(){return Z(E+1)},children:E+2}),M.filter((function(e){return e.username===y})).length>10*(E+2)&&(0,d.jsx)(a.tn,{onClick:function(){return Z(E+2)},children:E+3}),M.filter((function(e){return e.username===y})).length>10*(E+1)?(0,d.jsx)(a.tn,{"aria-label":"Next",onClick:function(){return Z(E+1)},children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xbb"})}):(0,d.jsx)(a.tn,{disabled:!0,"aria-label":"Next",onClick:function(){return Z(E+1)},children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})]})]})}}}]);
//# sourceMappingURL=7586.6fac2253.chunk.js.map