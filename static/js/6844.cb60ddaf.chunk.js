"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6844],{76844:function(e,n,t){t.r(n);var r=t(70885),c=t(78983),a=t(74569),s=t.n(a),i=t(72791),o=t(16856),l=t(80184),u="https://yog-seven.vercel.app";n.default=function(){var e=(0,i.useState)(!1),n=(0,r.Z)(e,2),t=n[0],a=n[1],d=(0,i.useState)(""),h=(0,r.Z)(d,2),x=h[0],j=h[1],f=(0,i.useState)(!1),m=(0,r.Z)(f,2),p=m[0],S=m[1],b=JSON.parse(localStorage.getItem("user-info")),N=b.token,g=b.user.username,v=(0,i.useState)([]),k=(0,r.Z)(v,2),C=k[0],_=k[1],y=(0,i.useState)(0),A=(0,r.Z)(y,2),L=A[0],w=A[1],z={Authorization:"Bearer ".concat(N),"My-Custom-Header":"foobar"};function B(){s().get("".concat(u,"/leadSourceMaster/all"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){console.log(e.data),_(e.data.reverse())})).catch((function(e){console.error(e)}))}(0,i.useEffect)((function(){B()}),[]);return(0,l.jsxs)(c.xH,{className:"mb-3 border-success",children:[(0,l.jsx)(c.bn,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,l.jsx)(c.tj,{children:"Lead Source Master"})}),(0,l.jsxs)(c.sl,{children:[(0,l.jsxs)(c.lx,{className:"mb-2",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{}),(0,l.jsx)("div",{children:(0,l.jsx)(c.rb,{children:(0,l.jsx)(c.b7,{children:(0,l.jsx)(c.u5,{className:"ms-1 mt-2",onClick:function(){return a(!t)},children:t?"close":"Add Lead Source"})})})})]}),t&&(0,l.jsx)("div",{children:(0,l.jsxs)(c.rb,{className:"mt-3",children:[(0,l.jsx)(c.b7,{lg:12,md:12,sm:12,children:(0,l.jsx)(c.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Lead Source",value:x,onChange:function(e){return j(e.target.value)},placeholder:"Enter Lead Source"})}),(0,l.jsxs)(c.b7,{className:"mt-2",lg:6,md:6,sm:12,children:[(0,l.jsx)(c.rb,{children:(0,l.jsx)(c.b7,{children:(0,l.jsx)(c.kV,{size:"xl",label:"Status",value:p,onChange:function(){return S(!p)}})})}),(0,l.jsx)(c.u5,{className:"mt-2",onClick:function(){return function(){if(""!=x){var e={username:g,LeadSource:x,Status:p};s().post("".concat(u,"/leadSourceMaster/create"),e,{headers:z}).then((function(e){console.log(e.data),alert("Successfully Added"),B(),a(!1),j(""),S(!1)})).catch((function(e){return console.log(e)}))}else alert("enter lead Source")}()},children:"Save"})]})]})})]}),(0,l.jsxs)(c.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,l.jsx)(c.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,l.jsxs)(c.T6,{children:[(0,l.jsx)(c.is,{children:"Sr.No"}),(0,l.jsx)(c.is,{children:"Lead Source"}),(0,l.jsx)(c.is,{children:"Status"}),(0,l.jsx)(c.is,{children:"Action"})]})}),(0,l.jsx)(c.NR,{children:C.slice(10*L,10*L+10).map((function(e,n){return e.username===g&&(0,l.jsxs)(c.T6,{children:[(0,l.jsx)(c.NN,{children:n+1+10*L}),(0,l.jsx)(c.NN,{children:e.LeadSource}),(0,l.jsx)(c.NN,{className:"text-center",children:(0,l.jsx)(c.kV,{size:"xl",style:{cursor:"pointer"},id:e._id,value:e.Status,checked:e.Status,onChange:function(){return function(e,n){var t={Status:n};fetch("".concat(u,"/leadSourceMaster/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(N),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){B()}))}))}(e._id,!e.Status)}})}),(0,l.jsxs)(c.NN,{children:[" ",(0,l.jsx)(o.ZkW,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return n=e._id,void(confirm("You want to delete this")&&fetch("".concat(u,"/leadSourceMaster/delete/").concat(n),{method:"DELETE",headers:{Authorization:"Bearer ".concat(N),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){console.warn(e),B()}))})));var n},size:"20px"})," "]})]},n)}))})]})]}),(0,l.jsxs)(c.E7,{"aria-label":"Page navigation example",align:"center",className:"mt-2",children:[(0,l.jsx)(c.tn,{"aria-label":"Previous",disabled:0==L,onClick:function(){return L>0&&w(L-1)},children:(0,l.jsx)("span",{"aria-hidden":"true",children:"\xab"})}),(0,l.jsx)(c.tn,{active:!0,onClick:function(){return w(0)},children:L+1}),C.filter((function(e){return e.username===g})).length>10*(L+1)&&(0,l.jsx)(c.tn,{onClick:function(){return w(L+1)},children:L+2}),C.filter((function(e){return e.username===g})).length>10*(L+2)&&(0,l.jsx)(c.tn,{onClick:function(){return w(L+2)},children:L+3}),C.filter((function(e){return e.username===g})).length>10*(L+1)?(0,l.jsx)(c.tn,{"aria-label":"Next",onClick:function(){return w(L+1)},children:(0,l.jsx)("span",{"aria-hidden":"true",children:"\xbb"})}):(0,l.jsx)(c.tn,{disabled:!0,"aria-label":"Next",onClick:function(){return w(L+1)},children:(0,l.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})]})]})}}}]);
//# sourceMappingURL=6844.cb60ddaf.chunk.js.map