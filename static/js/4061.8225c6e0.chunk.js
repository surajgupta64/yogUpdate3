"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4061],{14061:function(e,n,r){r.r(n);var t=r(70885),l=r(78983),a=r(74569),s=r.n(a),c=r(72791),i=r(16856),o=r(80184),u="https://yog-seven.vercel.app",d="https://yog-seven.vercel.app";n.default=function(){var e=(0,c.useState)(!1),n=(0,t.Z)(e,2),r=n[0],a=n[1],h=(0,c.useState)(""),x=(0,t.Z)(h,2),m=x[0],f=x[1],p=(0,c.useState)(0),j=(0,t.Z)(p,2),v=j[0],b=j[1],g=(0,c.useState)(""),N=(0,t.Z)(g,2),C=N[0],S=N[1],k=(0,c.useState)(""),y=(0,t.Z)(k,2),A=y[0],L=y[1],_=JSON.parse(localStorage.getItem("user-info")),Z=_.token,E=_.user.username,w=(0,c.useState)([]),B=(0,t.Z)(w,2),z=B[0],M=B[1],F=(0,c.useState)(0),T=(0,t.Z)(F,2),X=T[0],H=T[1],I={Authorization:"Bearer ".concat(Z),"My-Custom-Header":"foobar"};(0,c.useEffect)((function(){R(),s().get("".concat(d,"/employeeForm/all"),{headers:{Authorization:"Bearer ".concat(Z)}}).then((function(e){J(e.data),console.log(e.data)})).catch((function(e){console.error(e)}))}),[]);var O=(0,c.useState)([]),P=(0,t.Z)(O,2),D=P[0],J=P[1];function R(){s().get("".concat(u,"/expenseMaster/all"),{headers:{Authorization:"Bearer ".concat(Z)}}).then((function(e){console.log(e.data),M(e.data.reverse())})).catch((function(e){console.error(e)}))}return(0,o.jsxs)(l.xH,{className:"mb-3 border-success",children:[(0,o.jsx)(l.bn,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,o.jsx)(l.tj,{children:"Expenses Category Master"})}),(0,o.jsxs)(l.sl,{children:[(0,o.jsxs)(l.lx,{className:"mb-2",children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{children:(0,o.jsx)(l.rb,{children:(0,o.jsx)(l.b7,{children:(0,o.jsx)(l.u5,{className:"ms-1 mt-2",onClick:function(){return a(!r)},children:r?"close":"Add Express"})})})})]}),r&&(0,o.jsx)("div",{children:(0,o.jsxs)(l.rb,{className:"mt-3",children:[(0,o.jsx)(l.b7,{lg:6,md:6,sm:12,children:(0,o.jsx)(l.jO,{className:"mb-1",type:"text",id:"exampleFormControlInput1",label:"Category",value:m,onChange:function(e){return f(e.target.value)},placeholder:"Enter Category"})}),(0,o.jsx)(l.b7,{lg:6,md:6,sm:12,children:(0,o.jsx)(l.LX,{className:"mb-1","aria-label":"Select Approval level",label:"Approval level",value:v,onChange:function(e){return b(e.target.value)},options:["Select Level",{label:"Level-0",value:"0"},{label:"Level-1",value:"1"},{label:"Level-2",value:"2"}]})}),v>=1&&(0,o.jsx)(l.b7,{lg:6,md:6,sm:12,children:(0,o.jsxs)(l.LX,{className:"mb-1","aria-label":"Select Assign Staff",label:"Approval level-1",value:C,onChange:function(e){return S(e.target.value)},children:[(0,o.jsx)("option",{children:"Select Staff"}),D.filter((function(e){return e.username===E})).map((function(e,n){return e.username===E&&(0,o.jsx)("option",{children:e.FullName},n)}))]})}),v>=2&&(0,o.jsx)(l.b7,{lg:6,md:6,sm:12,children:(0,o.jsxs)(l.LX,{className:"mb-1","aria-label":"Select Assign Staff",label:"Approval level-2",value:A,onChange:function(e){return L(e.target.value)},children:[(0,o.jsx)("option",{children:"Select Staff"}),D.filter((function(e){return e.username===E})).map((function(e,n){return e.username===E&&(0,o.jsx)("option",{children:e.FullName},n)}))]})}),(0,o.jsx)(l.b7,{className:"mt-2",lg:6,md:6,sm:12,children:(0,o.jsx)(l.u5,{className:"mt-2",onClick:function(){return function(){if(""!=m){var e={username:E,CategoryName:m,ApprovalLevel1:C,ApprovalLevel2:A};s().post("".concat(u,"/expenseMaster/create"),e,{headers:I}).then((function(e){console.log(e.data),alert("Successfully Added"),R(),a(!1),f(""),b(0),S(""),L("")})).catch((function(e){return console.log(e)}))}else alert("enter lead Source")}()},children:"Save"})})]})})]}),(0,o.jsxs)(l.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,o.jsx)(l.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,o.jsxs)(l.T6,{children:[(0,o.jsx)(l.is,{children:"Sr.No"}),(0,o.jsx)(l.is,{children:"Category"}),(0,o.jsx)(l.is,{children:"Level1"}),(0,o.jsx)(l.is,{children:"Level2"}),(0,o.jsx)(l.is,{children:"Action"})]})}),(0,o.jsx)(l.NR,{children:z.slice(10*X,10*X+10).map((function(e,n){return e.username===E&&(0,o.jsxs)(l.T6,{children:[(0,o.jsx)(l.NN,{children:n+1+10*X}),(0,o.jsx)(l.NN,{children:e.CategoryName}),(0,o.jsx)(l.NN,{children:e.ApprovalLevel1}),(0,o.jsx)(l.NN,{children:e.ApprovalLevel2}),(0,o.jsxs)(l.NN,{children:[" ",(0,o.jsx)(i.ZkW,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return n=e._id,void(confirm("You want to delete this")&&fetch("".concat(u,"/expenseMaster/delete/").concat(n),{method:"DELETE",headers:{Authorization:"Bearer ".concat(Z),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){console.warn(e),R()}))})));var n},size:"20px"})," "]})]},n)}))})]})]}),(0,o.jsxs)(l.E7,{"aria-label":"Page navigation example",align:"center",className:"mt-2",children:[(0,o.jsx)(l.tn,{"aria-label":"Previous",disabled:0==X,onClick:function(){return X>0&&H(X-1)},children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xab"})}),(0,o.jsx)(l.tn,{active:!0,onClick:function(){return H(0)},children:X+1}),z.filter((function(e){return e.username===E})).length>10*(X+1)&&(0,o.jsx)(l.tn,{onClick:function(){return H(X+1)},children:X+2}),z.filter((function(e){return e.username===E})).length>10*(X+2)&&(0,o.jsx)(l.tn,{onClick:function(){return H(X+2)},children:X+3}),z.filter((function(e){return e.username===E})).length>10*(X+1)?(0,o.jsx)(l.tn,{"aria-label":"Next",onClick:function(){return H(X+1)},children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xbb"})}):(0,o.jsx)(l.tn,{disabled:!0,"aria-label":"Next",onClick:function(){return H(X+1)},children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})]})]})}}}]);
//# sourceMappingURL=4061.8225c6e0.chunk.js.map